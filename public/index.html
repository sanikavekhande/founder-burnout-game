<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Founder Burnout Simulator</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <!-- Setup Screen -->
    <div id="setup" class="screen active">
      <div class="setup-container">
        <h1>‚ö° Founder Burnout Simulator</h1>
        <p class="subtitle">Survive 26 weeks without collapsing, selling out, or pivoting to Web3.</p>

        <div class="setup-tabs">
          <button class="setup-tab active" data-tab="setup-form">Setup</button>
          <button class="setup-tab" data-tab="setup-instructions">How to Play</button>
        </div>
        
        <div id="setup-form" class="setup-panel active">
          <div class="form-group">
            <label>Company Name</label>
            <input type="text" id="companyName" placeholder="Enter your doomed venture" value="StartupCo">
          </div>
          
          <div class="form-group">
            <label>Industry</label>
            <select id="industry">
              <option value="Software">Software (balanced)</option>
              <option value="Healthcare">Healthcare (slow growth, ethical)</option>
              <option value="Finance">Finance (funding boost, ethical risk)</option>
              <option value="Electronics">Electronics (fast growth, high debt)</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Technology</label>
            <select id="tech">
              <option value="Software">Software</option>
              <option value="AI/Automation">AI/Automation (PR boost, ethics risk)</option>
              <option value="Physical Product">Physical Product (slower, stable)</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Founder Traits (pick 2)</label>
            <div id="traits">
              <label class="trait"><input type="checkbox" value="Ambition"> Ambition (+PR, +burnout)</label>
              <label class="trait"><input type="checkbox" value="Integrity"> Integrity (protects ethics)</label>
              <label class="trait"><input type="checkbox" value="Charisma"> Charisma (VC likes you)</label>
              <label class="trait"><input type="checkbox" value="Resilience"> Resilience (-burnout resist)</label>
            </div>
          </div>
          
          <div class="form-group">
            <label>Gemini API Key (optional, stays on this browser)</label>
            <input type="password" id="aiKey" placeholder="AIza...">
            <small class="form-hint">Leave blank to use the fallback heuristic or a server-side key.</small>
          </div>
          
          <button id="startGame" class="btn-primary">Begin the Grind</button>
        </div>

        <div id="setup-instructions" class="setup-panel">
          <div class="instructions">
            <h2>üìò How to Play</h2>
            <ol>
              <li>Complete the setup to define your doomed-but-hopeful startup.</li>
              <li>Each week, write a short update describing exactly what happened.</li>
              <li>Gemini (or the local fallback) scores sentiment, buzzwords, and feasibility, then updates meters.</li>
              <li>Keep Funding, Ethics, and Burnout in balance for 26 rounds.</li>
              <li>NPC feedback, advisor tips, and headlines react to your progress.</li>
              <li>Avoid burnout &gt; 80 or funding &lt; 0, and chase the ending you're after.</li>
            </ol>
            <p class="instructions-note">Tip: Specific, metric-heavy updates tend to score better than vague hype.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Game Screen -->
    <div id="game" class="screen">
      <div class="game-container">
        <div class="left-panel">
          <h2 id="phaseTitle">Week 1: Gloomy Monday</h2>
          <div class="company-info">
            <span id="companyDisplay"></span> ‚Ä¢ Round <span id="roundDisplay">1</span>/26
          </div>
          <div id="progress" class="progress-bar">
            <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
          </div>
          
          <textarea 
            id="updateText" 
            placeholder="What's your weekly update? (1-3 sentences)
            
Example: 'Closed a bridge round after promising better governance. Team is exhausted but we booked a recharge day.'"
            maxlength="300"
          ></textarea>
          
          <div class="char-count"><span id="charCount">0</span>/300</div>
          
          <button id="submitRound" class="btn-primary">Submit Update</button>
          <div id="loadingMessage" class="loading">Analyzing update...</div>
        </div>

        <div class="right-panel">
          <div id="roundSummary" class="panel summary-panel">
            <div class="summary-headline" id="summaryHeadline">Submit your first update to see how the world reacts.</div>
            <div class="summary-cta" id="summaryCTA">Balance funding, ethics, and burnout before you flame out.</div>
            <div class="summary-highlight" id="summaryHighlight"></div>
            <div id="story" class="summary-story"></div>
          </div>

          <div id="analysisDetails" class="details-container">
            <div id="meters" class="stats-grid">
              <div class="stat" id="stat-ethics">
                <div class="stat-header">
                  <span class="label">‚öñÔ∏è Ethics</span>
                  <span class="value" id="ethics-val">60</span>
                </div>
                <div class="bar"><div class="fill ethics" id="ethics-fill" style="width: 60%"></div></div>
              </div>
              
              <div class="stat" id="stat-burnout">
                <div class="stat-header">
                  <span class="label">üî• Burnout</span>
                  <span class="value" id="burnout-val">25</span>
                </div>
                <div class="bar"><div class="fill burnout" id="burnout-fill" style="width: 25%"></div></div>
              </div>
              
              <div class="stat" id="stat-funding">
                <div class="stat-header">
                  <span class="label">üíµ Funding</span>
                  <span class="value" id="funding-val">50</span>
                </div>
                <div class="bar"><div class="fill funding" id="funding-fill" style="width: 50%"></div></div>
              </div>
            </div>
          
          <div id="explainability" class="panel">
            <h3>üìä Analysis</h3>
            <div class="analysis-grid">
              <div>Sentiment: <strong id="sentiment">‚Äî</strong></div>
              <div>Buzzwords: <strong id="buzzword">‚Äî</strong></div>
              <div>Feasibility: <strong id="feasibility">‚Äî</strong></div>
            </div>
            <div class="analysis-source">Model: <strong id="analysisSource">‚Äî</strong></div>
            <div class="analysis-tip">
              Advisor Tip: <span id="advisorTip">‚Äî</span>
            </div>
            <div class="analysis-headline">
              Headline: <span id="worldHeadline">‚Äî</span>
            </div>
            <div class="analysis-source secondary">Insights: <strong id="insightsSource">‚Äî</strong></div>
          </div>

          <div id="npcs" class="panel">
            <h3>üí¨ NPCs</h3>
            <div class="npc-line">
              <strong>VC:</strong> <span id="vc-line">"Waiting for your first update..."</span>
            </div>
            <div class="npc-line">
              <strong>Employee:</strong> <span id="emp-line">"Let's ship something."</span>
            </div>
          </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Ending Screen -->
    <div id="ending" class="screen">
      <div class="ending-container">
        <h1 id="endingTitle">Game Over</h1>
        <p id="endingText"></p>
        <div id="finalStats"></div>
        <div id="endingPostMortem" class="post-mortem"></div>
        <button id="restart" class="btn-primary">Play Again</button>
      </div>
    </div>
  </div>

  <script type="module" src="game.js"></script>
</body>
</html>
